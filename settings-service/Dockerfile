FROM adoptopenjdk:11-jre-hotspot-focal
MAINTAINER Anirban Das <anirbandas18@live.com>
RUN mkdir ~p -p /opt/restaurant-enterprise-solutions/restaurant-solution-settings-service
COPY target/*.jar /opt/restaurant-enterprise-solutions/restaurant-solution-settings-service/settings-app.jar
EXPOSE 13001
CMD ["java", "-jar", \
"-DSETTINGS_SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}", \
"-DSETTINGS_EUREKA_CLIENT_ENABLED=${EUREKA_CLIENT_ENABLED}", \
"-DSETTINGS_ZIPKIN_CLIENT_ENABLED=${ZIPKIN_CLIENT_ENABLED}", \
"-DSETTINGS_SWAGGER_ENABLED=${SWAGGER_ENABLED}", \
"-DSETTINGS_LOGSTASH_ENABLED=${LOGSTASH_ENABLED}", \
"-DSETTINGS_LOGBACK_LOGGING_LEVEL=${LOGBACK_LOGGING_LEVEL}", \
"-DSETTINGS_SPRING_CLOUD_CONFIG_ENABLED=${SPRING_CLOUD_CONFIG_ENABLED}", \
"-DSETTINGS_LOGSTASH_HOST=${LOGSTASH_HOST}", \
"-DSETTINGS_LOGSTASH_PORT=${LOGSTASH_PORT}", \
"-DSETTINGS_SPRING_CLOUD_CONFIG_HOST=${SPRING_CLOUD_CONFIG_HOST}", \
"-DSETTINGS_SPRING_CLOUD_CONFIG_PORT=${SPRING_CLOUD_CONFIG_PORT}", \
"-DSETTINGS_LOGGING_LEVEL=${LOGGING_LEVEL}", \
"-DSETTINGS_DATABASE_HOST=${DATABASE_HOST}", \
"-DSETTINGS_DATABASE_PORT=${DATABASE_PORT}", \
"-DSETTINGS_EUREKA_HOST=${EUREKA_HOST}", \
"-DSETTINGS_EUREKA_PORT=${EUREKA_PORT}", \
"-DSETTINGS_ZIPKIN_HOST=${ZIPKIN_HOST}", \
"-DSETTINGS_ZIPKIN_PORT=${ZIPKIN_PORT}", \
"-DSETTINGS_GATEWAY_HOST=${GATEWAY_HOST}", \
"-DSETTINGS_GATEWAY_PORT=${GATEWAY_PORT}", \
"-DSETTINGS_PORT=${PORT}", \
"-DSETTINGS_FEIGN_LOGGING_LEVEL=${FEIGN_LOGGING_LEVEL}", \
"-DSETTINGS_METADATA_GENDER_FEIGN_LOGGING_LEVEL=${METADATA_GENDER_FEIGN_LOGGING_LEVEL}", \
"-DSETTINGS_CIRCUIT_BREAKER_ENABLED=${CIRCUIT_BREAKER_ENABLED}", \
"/opt/restaurant-enterprise-solutions/restaurant-solution-settings-service/settings-app.jar"]